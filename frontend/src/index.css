@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&family=Caveat:wght@500;700&family=DM+Sans:wght@400;500;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        /* Light Mode - Cozy Berry Theme */
        --background: 30 30% 98%;
        --foreground: 20 30% 12%;
        --card: 0 0% 100%;
        --card-foreground: 20 30% 12%;
        --popover: 0 0% 100%;
        --popover-foreground: 20 30% 12%;
        --primary: 345 45% 52%;
        --primary-foreground: 0 0% 100%;
        --secondary: 225 60% 84%;
        --secondary-foreground: 20 30% 12%;
        --muted: 225 30% 92%;
        --muted-foreground: 20 15% 45%;
        --accent: 190 100% 60%;
        --accent-foreground: 20 30% 12%;
        --destructive: 0 84% 60%;
        --destructive-foreground: 0 0% 100%;
        --border: 225 30% 80%;
        --input: 225 30% 85%;
        --ring: 345 45% 52%;
        --radius: 1rem;
        
        /* Custom colors */
        --berry: 345 45% 52%;
        --periwinkle: 225 100% 84%;
        --azure: 213 97% 59%;
        --aqua: 190 100% 60%;
        --coffee: 24 35% 16%;
    }

    .dark {
        /* Dark Mode - Cozy Coffee Theme */
        --background: 24 35% 10%;
        --foreground: 30 20% 92%;
        --card: 24 30% 14%;
        --card-foreground: 30 20% 92%;
        --popover: 24 30% 14%;
        --popover-foreground: 30 20% 92%;
        --primary: 345 50% 60%;
        --primary-foreground: 24 35% 10%;
        --secondary: 24 25% 22%;
        --secondary-foreground: 30 20% 92%;
        --muted: 24 20% 18%;
        --muted-foreground: 30 15% 60%;
        --accent: 190 100% 60%;
        --accent-foreground: 24 35% 10%;
        --destructive: 0 62% 50%;
        --destructive-foreground: 0 0% 100%;
        --border: 24 20% 28%;
        --input: 24 20% 25%;
        --ring: 345 50% 60%;
        
        /* Custom colors dark */
        --berry: 345 50% 60%;
        --periwinkle: 225 60% 70%;
        --azure: 213 90% 65%;
        --aqua: 190 100% 55%;
        --coffee: 30 20% 92%;
    }
}

@layer base {
    * {
        @apply border-border;
    }
    
    html {
        scroll-behavior: smooth;
    }
    
    body {
        @apply bg-background text-foreground;
        font-family: 'DM Sans', sans-serif;
    }
    
    h1, h2, h3, h4, h5, h6 {
        font-family: 'Outfit', sans-serif;
    }
    
    .font-handwritten {
        font-family: 'Caveat', cursive;
    }
}

/* Cozy Components */
@layer components {
    .cozy-card {
        @apply bg-card rounded-2xl border border-border/50 shadow-sm hover:shadow-md transition-all duration-300;
    }
    
    .cozy-card-elevated {
        @apply bg-card rounded-3xl border border-border/30 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1;
    }
    
    .cozy-btn {
        @apply rounded-full px-6 py-3 font-medium transition-all duration-200 hover:scale-105 active:scale-95;
    }
    
    .cozy-btn-primary {
        @apply cozy-btn bg-primary text-primary-foreground hover:opacity-90;
    }
    
    .cozy-btn-secondary {
        @apply cozy-btn bg-secondary text-secondary-foreground hover:bg-secondary/80;
    }
    
    .cozy-btn-outline {
        @apply cozy-btn border-2 border-current bg-transparent hover:bg-primary/10;
    }
    
    .cozy-input {
        @apply rounded-xl border border-border bg-card px-4 py-3 focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all duration-200;
    }
    
    .cozy-badge {
        @apply inline-flex items-center rounded-full px-3 py-1 text-xs font-medium bg-secondary text-secondary-foreground;
    }
    
    .cozy-badge-primary {
        @apply cozy-badge bg-primary/15 text-primary;
    }
    
    /* Zany decorative elements */
    .squiggle {
        @apply relative;
    }
    
    .squiggle::after {
        content: '';
        position: absolute;
        bottom: -4px;
        left: 0;
        width: 100%;
        height: 8px;
        background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 10'%3E%3Cpath d='M0 5 Q 12.5 0, 25 5 T 50 5 T 75 5 T 100 5' stroke='%23B74F6F' stroke-width='2' fill='none'/%3E%3C/svg%3E") repeat-x;
        background-size: 50px 10px;
    }
    
    .blob {
        border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
        animation: blob-morph 8s ease-in-out infinite;
    }
    
    @keyframes blob-morph {
        0%, 100% { border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; }
        25% { border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%; }
        50% { border-radius: 50% 60% 30% 60% / 30% 40% 70% 60%; }
        75% { border-radius: 60% 30% 60% 40% / 70% 50% 40% 50%; }
    }
    
    .float {
        animation: float 6s ease-in-out infinite;
    }
    
    @keyframes float {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
    }
    
    .wiggle:hover {
        animation: wiggle 0.5s ease-in-out;
    }
    
    @keyframes wiggle {
        0%, 100% { transform: rotate(0deg); }
        25% { transform: rotate(-3deg); }
        75% { transform: rotate(3deg); }
    }
}

/* Markdown Content Styles */
.prose {
    @apply max-w-none;
}

.prose h1 {
    @apply text-3xl md:text-4xl font-bold mb-6 pb-4 border-b border-border;
    font-family: 'Outfit', sans-serif;
}

.prose h2 {
    @apply text-2xl md:text-3xl font-bold mt-10 mb-4;
    font-family: 'Outfit', sans-serif;
}

.prose h3 {
    @apply text-xl md:text-2xl font-semibold mt-8 mb-3;
    font-family: 'Outfit', sans-serif;
}

.prose p {
    @apply text-base md:text-lg leading-relaxed mb-6;
}

.prose ul, .prose ol {
    @apply mb-6 ml-6;
}

.prose li {
    @apply mb-2;
}

.prose code {
    @apply bg-secondary/50 px-2 py-1 text-sm rounded-md font-mono;
}

.prose pre {
    @apply bg-secondary/30 p-4 overflow-x-auto mb-6 rounded-xl border border-border;
}

.prose pre code {
    @apply bg-transparent px-0 py-0;
}

.prose blockquote {
    @apply border-l-4 border-primary/50 pl-6 italic my-6 bg-primary/5 py-4 pr-4 rounded-r-xl;
}

.prose a {
    @apply text-primary underline decoration-primary/30 hover:decoration-primary transition-colors;
}

.prose table {
    @apply w-full rounded-xl overflow-hidden mb-6;
}

.prose th, .prose td {
    @apply border border-border px-4 py-2 text-left;
}

.prose th {
    @apply bg-secondary/50 font-semibold;
}

/* Page transitions */
.page-enter {
    animation: pageEnter 0.5s ease-out forwards;
}

@keyframes pageEnter {
    from {
        opacity: 0;
        transform: translateY(16px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Custom scrollbar */
::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    @apply bg-muted rounded-full;
}

::-webkit-scrollbar-thumb {
    @apply bg-primary/30 rounded-full hover:bg-primary/50 transition-colors;
}

/* Selection */
::selection {
    @apply bg-primary/20 text-foreground;
}

/* Markdown Editor Overrides */
.w-md-editor {
    --md-editor-background-color: hsl(var(--card)) !important;
    --md-editor-border-color: hsl(var(--border)) !important;
    background-color: hsl(var(--card)) !important;
    color: hsl(var(--foreground)) !important;
    border-radius: 1rem !important;
}

.w-md-editor-toolbar {
    background-color: hsl(var(--secondary) / 0.3) !important;
    border-bottom: 1px solid hsl(var(--border)) !important;
    border-radius: 1rem 1rem 0 0 !important;
}

.w-md-editor-content {
    background-color: hsl(var(--card)) !important;
}

.wmde-markdown {
    background-color: transparent !important;
    color: hsl(var(--foreground)) !important;
}

/* Focus visible outline */
*:focus-visible {
    outline: 2px solid hsl(var(--primary));
    outline-offset: 2px;
    border-radius: 0.5rem;
}

/* Line clamp utilities */
.line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* Gradient text */
.gradient-text {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-primary via-[hsl(var(--azure))] to-[hsl(var(--aqua))];
}
